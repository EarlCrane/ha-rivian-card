type: picture-elements
image: >-
  https://github.com/tmack8001/ha-rivian-card/blob/main/src/images/r1t/r1t-launch-green.png?raw=true
elements:
  - type: conditional
    conditions:
      - entity: binary_sensor.rivian_r1t_closure_frunk_closed
        state: 'on'
    elements:
      - type: image
        entity: binary_sensor.rivian_r1t_closure_frunk_closed
        image: >-
          https://github.com/tmack8001/ha-rivian-card/blob/main/src/images/r1t/r1t-top.png?raw=true
        style:
          top: 50%
          left: 50%
          width: 100%
        filter: saturate(1)
        tap_action: none
      - type: image
        entity: binary_sensor.rivian_r1t_closure_frunk_closed
        image: >-
          https://github.com/tmack8001/ha-rivian-card/blob/main/src/images/r1t/r1t-trunk.svg?raw=true
        style:
          top: 50%
          left: 50%
          width: 100%
        filter: saturate(1)
        tap_action: none
  - type: conditional
    conditions:
      - entity: binary_sensor.rivian_r1t_charging_status
        state: 'on'
    elements:
      - type: image
        entity: binary_sensor.rivian_r1t_charging_status
        image: >-
          https://github.com/tmack8001/ha-rivian-card/blob/main/src/images/r1t/r1t-charger-door.svg?raw=true
        style:
          top: 50%
          left: 50%
          width: 100%
        filter: saturate(1)
        tap_action: none
  - type: conditional
    conditions:
      - entity: binary_sensor.rivian_r1t_door_front_left_closed
        state: 'on'
    elements:
      - type: image
        image: >-
          https://github.com/tmack8001/ha-rivian-card/blob/main/src/images/r1t/r1t-left.png?raw=true
        style:
          top: 50%
          left: 50%
          width: 100%
        filter: saturate(1)
        tap_action: none
      - type: image
        image: >-
          https://github.com/tmack8001/ha-rivian-card/blob/main/src/images/r1t/r1t-driver-door.svg?raw=true
        style:
          top: 50%
          left: 50%
          width: 100%
        filter: saturate(1)
        tap_action: none
  - type: conditional
    conditions:
      - entity: binary_sensor.rivian_r1t_door_front_right_closed
        state: 'on'
    elements:
      - type: image
        image: >-
          https://github.com/tmack8001/ha-rivian-card/blob/main/src/images/r1t/r1t-right.png?raw=true
        style:
          top: 50%
          left: 50%
          width: 100%
        filter: saturate(1)
        tap_action: none
      - type: image
        entity: binary_sensor.rivian_r1t_door_front_right_closed
        image: >-
          https://github.com/tmack8001/ha-rivian-card/blob/main/src/images/r1t/r1t-passenger-door.svg?raw=true
        style:
          top: 50%
          left: 50%
          width: 100%
        filter: saturate(1)
        tap_action: none
  - type: conditional
    conditions:
      - entity: binary_sensor.rivian_r1t_door_rear_left_closed
        state: 'on'
    elements:
      - type: image
        image: >-
          https://github.com/tmack8001/ha-rivian-card/blob/main/src/images/r1t/r1t-left.png?raw=true
        style:
          top: 50%
          left: 50%
          width: 100%
        filter: saturate(1)
        tap_action: none
      - type: image
        entity: binary_sensor.rivian_r1t_door_rear_left_closed
        image: >-
          https://github.com/tmack8001/ha-rivian-card/blob/main/src/images/r1t/r1t-rear-left-door.svg?raw=true
        style:
          top: 50%
          left: 50%
          width: 100%
        filter: saturate(1)
        tap_action: none
  - type: conditional
    conditions:
      - entity: binary_sensor.rivian_r1t_door_rear_right_closed
        state: 'on'
    elements:
      - type: image
        image: >-
          https://github.com/tmack8001/ha-rivian-card/blob/main/src/images/r1t/r1t-right.png?raw=true
        style:
          top: 50%
          left: 50%
          width: 100%
        filter: saturate(1)
        tap_action: none
      - type: image
        entity: binary_sensor.rivian_r1t_door_rear_right_closed
        image: >-
          https://github.com/tmack8001/ha-rivian-card/blob/main/src/images/r1t/r1t-rear-right-door.svg?raw=true
        style:
          top: 50%
          left: 50%
          width: 100%
        filter: saturate(1)
        tap_action: none
  - type: conditional
    conditions:
      - entity: binary_sensor.rivian_r1t_closure_side_bin_left_closed
        state: 'on'
    elements:
      - type: image
        image: >-
          https://github.com/tmack8001/ha-rivian-card/blob/main/src/images/r1t/r1t-left.png?raw=true
        style:
          top: 50%
          left: 50%
          width: 100%
        filter: saturate(1)
        tap_action: none
      - type: image
        entity: binary_sensor.rivian_r1t_closure_side_bin_left_closed
        image: >-
          https://github.com/tmack8001/ha-rivian-card/blob/main/src/images/r1t/r1t-tunnel.svg?raw=true
        style:
          top: 50%
          left: 50%
          width: 100%
        filter: saturate(1)
        tap_action: none
  - type: conditional
    conditions:
      - entity: binary_sensor.rivian_r1t_closure_side_bin_right_closed
        state: 'on'
    elements:
      - type: image
        image: >-
          https://github.com/tmack8001/ha-rivian-card/blob/main/src/images/r1t/r1t-right.png?raw=true
        style:
          top: 50%
          left: 50%
          width: 100%
        filter: saturate(1)
        tap_action: none
      - type: image
        entity: binary_sensor.rivian_r1t_closure_side_bin_right_closed
        image: >-
          https://github.com/tmack8001/ha-rivian-card/blob/main/src/images/r1t/r1t-tunnel.svg?raw=true
        style:
          top: 50%
          left: 50%
          width: 100%
        filter: saturate(1)
        tap_action: none
  - type: conditional
    conditions:
      - entity: binary_sensor.rivian_r1t_window_front_left_closed
        state: 'on'
    elements:
      - type: image
        image: >-
          https://github.com/tmack8001/ha-rivian-card/blob/main/src/images/r1t/r1t-left.png?raw=true
        style:
          top: 50%
          left: 50%
          width: 100%
        filter: saturate(1)
        tap_action: none
      - type: image
        entity: binary_sensor.rivian_r1t_window_front_left_closed
        image: >-
          https://github.com/tmack8001/ha-rivian-card/blob/main/src/images/r1t/r1t-driver-window.svg?raw=true
        style:
          top: 50%
          left: 50%
          width: 100%
        filter: saturate(1)
        tap_action: none
  - type: conditional
    conditions:
      - entity: binary_sensor.rivian_r1t_window_front_right_closed
        state: 'on'
    elements:
      - type: image
        image: >-
          https://github.com/tmack8001/ha-rivian-card/blob/main/src/images/r1t/r1t-right.png?raw=true
        style:
          top: 50%
          left: 50%
          width: 100%
        filter: saturate(1)
        tap_action: none
      - type: image
        entity: binary_sensor.rivian_r1t_window_front_right_closed
        image: >-
          https://github.com/tmack8001/ha-rivian-card/blob/main/src/images/r1t/r1t-passenger-window.svg?raw=true
        style:
          top: 50%
          left: 50%
          width: 100%
        filter: saturate(1)
        tap_action: none
  - type: conditional
    conditions:
      - entity: binary_sensor.rivian_r1t_window_rear_left_closed
        state: 'on'
    elements:
      - type: image
        image: >-
          https://github.com/tmack8001/ha-rivian-card/blob/main/src/images/r1t/r1t-left.png?raw=true
        style:
          top: 50%
          left: 50%
          width: 100%
        filter: saturate(1)
        tap_action: none
      - type: image
        entity: binary_sensor.rivian_r1t_window_rear_left_closed
        image: >-
          https://github.com/tmack8001/ha-rivian-card/blob/main/src/images/r1t/r1t-rear-left-window.svg?raw=true
        style:
          top: 50%
          left: 50%
          width: 100%
        filter: saturate(1)
        tap_action: none
  - type: conditional
    conditions:
      - entity: binary_sensor.rivian_r1t_window_rear_right_closed
        state: 'on'
    elements:
      - type: image
        image: >-
          https://github.com/tmack8001/ha-rivian-card/blob/main/src/images/r1t/r1t-right.png?raw=true
        style:
          top: 50%
          left: 50%
          width: 100%
        filter: saturate(1)
        tap_action: none
      - type: image
        entity: binary_sensor.rivian_r1t_window_rear_right_closed
        image: >-
          https://github.com/tmack8001/ha-rivian-card/blob/main/src/images/r1t/r1t-rear-right-window.svg?raw=true
        style:
          top: 50%
          left: 50%
          width: 100%
        filter: saturate(1)
        tap_action: none
  - type: conditional
    conditions:
      - entity: binary_sensor.rivian_r1t_closure_tonneau_closed
        state: 'on'
    elements:
      - type: image
        image: >-
          https://github.com/tmack8001/ha-rivian-card/blob/main/src/images/r1t/r1t-bottom.png?raw=true
        style:
          top: 50%
          left: 50%
          width: 100%
        filter: saturate(1)
        tap_action: none
      - type: image
        entity: binary_sensor.rivian_r1t_closure_tonneau_closed
        image: >-
          https://github.com/tmack8001/ha-rivian-card/blob/main/src/images/r1t/r1t-bed.svg?raw=true
        style:
          top: 50%
          left: 50%
          width: 100%
        filter: saturate(1)
        tap_action: none
  - type: conditional
    conditions:
      - entity: binary_sensor.rivian_r1t_closure_tailgate_closed
        state: 'on'
    elements:
      - type: image
        image: >-
          https://github.com/tmack8001/ha-rivian-card/blob/main/src/images/r1t/r1t-bottom.png?raw=true
        style:
          top: 50%
          left: 50%
          width: 100%
        filter: saturate(1)
        tap_action: none
      - type: image
        entity: binary_sensor.rivian_r1t_closure_tailgate_closed
        image: >-
          https://github.com/tmack8001/ha-rivian-card/blob/main/src/images/r1t/r1t-tailgate.svg?raw=true
        style:
          top: 50%
          left: 50%
          width: 100%
        filter: saturate(1)
        tap_action: none
  - type: conditional
    conditions:
      - entity: binary_sensor.rivian_r1t_locked_state
        state: 'on'
    elements:
      - type: image
        image: >-
          https://github.com/tmack8001/ha-rivian-card/blob/main/src/images/r1t/r1t-all.png?raw=true
        style:
          top: 50%
          left: 50%
          width: 100%
        filter: saturate(1)
        tap_action: none
      - type: image
        image: >-
          https://github.com/tmack8001/ha-rivian-card/blob/main/src/images/r1t/r1t-lock.svg?raw=true
        style:
          top: 50%
          left: 50%
          width: 100%
        filter: saturate(1)
        tap_action: none
  - type: state-icon
    entity: binary_sensor.rivian_r1t_locked_state
    state_color: true
    style:
      top: 18%
      left: 25%
  - type: state-label
    entity: binary_sensor.rivian_r1t_locked_state
    style:
      top: 23.5%
      left: 25%
  - type: state-icon
    entity: device_tracker.rivian_r1t_location
    state_color: true
    style:
      top: 18%
      left: 77%
  - type: state-label
    entity: device_tracker.rivian_r1t_location
    style:
      top: 23.5%
      left: 77%
  - type: state-icon
    entity: sensor.rivian_r1t_odometer
    style:
      top: 75%
      left: 77%
  - type: state-label
    entity: sensor.rivian_r1t_odometer
    style:
      top: 81%
      left: 77%
  - type: conditional
    conditions:
      - entity: binary_sensor.rivian_r1t_charger_connection
        state: 'on'
    elements:
      - type: icon
        icon: mdi:lightning-bolt
        style:
          top: 75%
          left: 25%
    card_mod:
      style:
        hui-icon-element:
          $: |
            :host {
              color:  var(--paper-item-icon-color);
              border-radius: 16px;
              box-shadow: 0px 0px 2px #88F1FF;
              padding: 2px;
              border: 2px solid transparent;
              animation: pulsate 2s linear infinite;
            }

            @keyframes pulsate {
              0% {
                color: var(--paper-item-icon-color);
                box-shadow: 0 0 0 transparent;
                border: 2px solid transparent;
              }
              50% {
                color: #88F1FF;
                box-shadow: 0px 0px 8px #88F1FF;
                border: 2px solid #88F1FF;
              }
              100% {
                color:  var(--paper-item-icon-color);
                box-shadow: 0 0 0 transparent;
                border: 2px solid transparent;
              }
            }
  - type: conditional
    conditions:
      - entity: binary_sensor.rivian_r1t_charger_connection
        state: 'off'
      - entity: binary_sensor.rivian_r1t_charging_status
        state: 'off'
    elements:
      - type: state-icon
        entity: sensor.rivian_r1t_battery_state_of_charge
        style:
          top: 75%
          left: 25%
  - type: conditional
    conditions:
      - entity: binary_sensor.rivian_r1t_charger_connection
        state: 'off'
      - entity: binary_sensor.rivian_r1t_charging_status
        state: 'on'
    elements:
      - type: state-icon
        icon: mdi:power-plug
        entity: binary_sensor.rivian_r1t_charger_connection
        style:
          top: 75%
          left: 25%
  - type: state-label
    entity: sensor.rivian_r1t_battery_state_of_charge
    style:
      top: 81%
      left: 25%
  - type: state-label
    entity: sensor.rivian_r1t_estimated_vehicle_range
    style:
      top: 85%
      left: 25%
  - type: custom:bar-card
    entity: sensor.rivian_r1t_battery_state_of_charge
    positions:
      icon: 'off'
      minmax: 'off'
      value: 'off'
      name: 'off'
    from: left
    min: 0
    max: 100
    width: 70px
    height: 8px
    style: |
      .card-content {
        padding:0 !important;
        background-color: transparent
        border: 0px solid transparent;
        border-color: transparent;
      }
      bar-card-card {
        border-radius: 4px;
        height:8px;
        overflow: hidden;
      }
      :host {
        top: 89%;
        left: 25%;
      }
